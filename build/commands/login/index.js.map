{"version":3,"file":"index.js","names":["Login","props","login","bind","create","command","builder","describe","handler","inquirer","prompt","name","message","type","password","startSpinner","request","post","then","res","isSuccessResponse","clearSpinner","localStorage","setItem","defaults","headers","common","clearSpinnerWithError","BaseCommand"],"sources":["../../../source/commands/login/index.js"],"sourcesContent":["import {BaseCommand, localStorage, request} from 'services';\nimport inquirer from 'inquirer';\nimport 'colors';\n\nclass Login extends BaseCommand {\n  constructor(props) {\n    super(props);\n    this.login = this.login.bind(this);\n\n    this.create({\n      command: 'login',\n      builder: {},\n      describe: 'Use for login the system.',\n    });\n    this.handler(this.login);\n  }\n  \n  async login() {\n    const {password} = await inquirer.prompt([\n      {\n        name: 'password',\n        message: 'Please enter your password.',\n        type: 'password',\n      },\n    ]);\n    this.startSpinner('Checking password!');\n    await request\n      .post('/auth/checkPassword', {password: password})\n      .then(async (res) => {\n        if (this.isSuccessResponse(res)) {\n          this.clearSpinner('Login Success!');\n          await localStorage.setItem('password', password);\n          request.defaults.headers.common['password'] = password;\n        } else {\n          this.clearSpinnerWithError('Wrong Password!');\n        }\n      });\n  }\n}\nexport default new Login();\n"],"mappings":";;;;;;;;;;;;;;;AAAA;AACA;AACA;AAAgB;AAAA;AAAA,IAEVA,KAAK;EAAA;EAAA;EACT,eAAYC,KAAK,EAAE;IAAA;IAAA;IACjB,0BAAMA,KAAK;IACX,MAAKC,KAAK,GAAG,MAAKA,KAAK,CAACC,IAAI,gDAAM;IAElC,MAAKC,MAAM,CAAC;MACVC,OAAO,EAAE,OAAO;MAChBC,OAAO,EAAE,CAAC,CAAC;MACXC,QAAQ,EAAE;IACZ,CAAC,CAAC;IACF,MAAKC,OAAO,CAAC,MAAKN,KAAK,CAAC;IAAC;EAC3B;EAAC;IAAA;IAAA;MAAA,2FAED;QAAA;QAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OAC2BO,oBAAQ,CAACC,MAAM,CAAC,CACvC;gBACEC,IAAI,EAAE,UAAU;gBAChBC,OAAO,EAAE,6BAA6B;gBACtCC,IAAI,EAAE;cACR,CAAC,CACF,CAAC;YAAA;cAAA;cANKC,QAAQ,yBAARA,QAAQ;cAOf,IAAI,CAACC,YAAY,CAAC,oBAAoB,CAAC;cAAC;cAAA,OAClCC,iBAAO,CACVC,IAAI,CAAC,qBAAqB,EAAE;gBAACH,QAAQ,EAAEA;cAAQ,CAAC,CAAC,CACjDI,IAAI;gBAAA,yFAAC,iBAAOC,GAAG;kBAAA;oBAAA;sBAAA;wBAAA,KACV,MAAI,CAACC,iBAAiB,CAACD,GAAG,CAAC;0BAAA;0BAAA;wBAAA;wBAC7B,MAAI,CAACE,YAAY,CAAC,gBAAgB,CAAC;wBAAC;wBAAA,OAC9BC,sBAAY,CAACC,OAAO,CAAC,UAAU,EAAET,QAAQ,CAAC;sBAAA;wBAChDE,iBAAO,CAACQ,QAAQ,CAACC,OAAO,CAACC,MAAM,CAAC,UAAU,CAAC,GAAGZ,QAAQ;wBAAC;wBAAA;sBAAA;wBAEvD,MAAI,CAACa,qBAAqB,CAAC,iBAAiB,CAAC;sBAAC;sBAAA;wBAAA;oBAAA;kBAAA;gBAAA,CAEjD;gBAAA;kBAAA;gBAAA;cAAA,IAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACL;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA,EAjCiBC,qBAAW;AAAA,eAmChB,IAAI5B,KAAK,EAAE;AAAA"}